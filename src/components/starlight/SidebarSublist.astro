---
/**
 * Custom SidebarSublist that adds quality badges to sidebar items
 *
 * Shows a small colored dot next to pages based on their quality rating:
 * - Red: Quality 1-2 (needs work)
 * - Yellow: Quality 3 (decent)
 * - Green: Quality 4-5 (good)
 */
import type { Props } from '@astrojs/starlight/props';
import Default from '@astrojs/starlight/components/SidebarSublist.astro';
---

<Default {...Astro.props}>
  <slot />
</Default>

<style is:global>
  /* Quality badges in sidebar - only show in dev mode */
  .sidebar-quality-badge {
    display: none;
    width: 6px;
    height: 6px;
    border-radius: 50%;
    margin-left: auto;
    flex-shrink: 0;
  }

  /* Show badges when dev mode is active (set via JS) */
  :root.page-status-dev-mode .sidebar-quality-badge {
    display: inline-block;
  }

  .sidebar-quality-badge--stub {
    background-color: #ef4444;
  }

  .sidebar-quality-badge--draft {
    background-color: #f97316;
  }

  .sidebar-quality-badge--needs-work {
    background-color: #eab308;
  }

  .sidebar-quality-badge--good {
    background-color: #22c55e;
  }

  .sidebar-quality-badge--comprehensive {
    background-color: #10b981;
  }
</style>
